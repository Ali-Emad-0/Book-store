{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Change Password | Paper & Ink</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="{% static 'css/Sign In & Sign Up Pages Style.css' %}" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="sign-in-page-container">

    <!-- Password Change Form -->
    <form method="POST">
      {% csrf_token %}
      <h1>Change Password</h1>

      <!-- Old Password -->
      <div class="input-group">
        <img src="{% static 'icons/icons8-password-100.png' %}" alt="Old password icon" />
        {{ change_password_form.old_password|attr:"placeholder:Old password" }}
      </div>
      {% for error in change_password_form.old_password.errors %}
        <p class="field-error" style="color: red;">{{ error }}</p>
      {% endfor %}

      <!-- New Password -->
      <div class="input-group">
        <img src="{% static 'icons/icons8-password-100.png' %}" alt="New password icon" />
        {{ change_password_form.new_password1|attr:"placeholder:New password" }}
      </div>
      {% for error in change_password_form.new_password1.errors %}
        <p class="field-error" style="color: red;">{{ error }}</p>
      {% endfor %}

      <!-- Confirm New Password -->
      <div class="input-group">
        <img src="{% static 'icons/icons8-password-100.png' %}" alt="Confirm password icon" />
        {{ change_password_form.new_password2|attr:"placeholder:Confirm new password" }}
      </div>
      {% for error in change_password_form.new_password2.errors %}
        <p class="field-error" style="color: red;">{{ error }}</p>
      {% endfor %}

      <!-- Submit Button -->
      <button class="sign-in-button" type="submit">Change Password</button>

      <!-- Success or Error Messages -->
      {% if messages %}
        {% for message in messages %}
          <p class="field-success" style="color: green;">{{ message }}</p>
        {% endfor %}
      {% endif %}

      <!-- Navigation -->
      <div class="sign-in-page-text">
        <p><a href="{% url 'home' %}">Back to Home</a></p>
      </div>
    </form>

  </div>
</body>

</html>
